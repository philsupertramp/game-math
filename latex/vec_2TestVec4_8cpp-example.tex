\hypertarget{vec_2TestVec4_8cpp-example}{}\doxysection{vec/\+Test\+Vec4.\+cpp}
This is an example on how to use the \mbox{\hyperlink{vec4_8h}{vec4.\+h}} file.


\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include "{}../Test.h"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <\mbox{\hyperlink{math_8h}{math/math.h}}>} \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <sstream>}}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{class} T>}
\DoxyCodeLine{\textcolor{keyword}{class }Vec4TestCase : \textcolor{keyword}{public} Test}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{keywordtype}{bool} testInitialization() \{}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} foo;}
\DoxyCodeLine{        assert(foo.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} == (T)0);}
\DoxyCodeLine{        assert(foo.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} == (T)0);}
\DoxyCodeLine{        assert(foo.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} == (T)0);}
\DoxyCodeLine{        assert(foo.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} == (T)0);}
\DoxyCodeLine{}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} foo2((T)1, (T)2, (T)3, (T)4);}
\DoxyCodeLine{        assert(foo2.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} == (T)1);}
\DoxyCodeLine{        assert(foo2.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} == (T)2);}
\DoxyCodeLine{        assert(foo2.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} == (T)3);}
\DoxyCodeLine{        assert(foo2.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} == (T)4);}
\DoxyCodeLine{}
\DoxyCodeLine{        T vals[4]   = \{ 2, 4, 6, 8 \};}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} vec = build\_vec4<T>((\textcolor{keywordtype}{void}*)vals);}
\DoxyCodeLine{        assert(vec.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} == (T)2);}
\DoxyCodeLine{        assert(vec.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} == (T)4);}
\DoxyCodeLine{        assert(vec.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} == (T)6);}
\DoxyCodeLine{        assert(vec.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} == (T)8);}
\DoxyCodeLine{}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} \mbox{\hyperlink{structvec2}{vec2}}(vals);}
\DoxyCodeLine{        assert(\mbox{\hyperlink{structvec2}{vec2}}.\mbox{\hyperlink{structvec2_acbedc70458fbe177e24770b64267f07d}{x}} == (T)2);}
\DoxyCodeLine{        assert(\mbox{\hyperlink{structvec2}{vec2}}.\mbox{\hyperlink{structvec2_a74bc54c64e2e47307e3807b2f1c6436b}{y}} == (T)4);}
\DoxyCodeLine{        assert(\mbox{\hyperlink{structvec2}{vec2}}.z == (T)6);}
\DoxyCodeLine{        assert(\mbox{\hyperlink{structvec2}{vec2}}.w == (T)8);}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{    \textcolor{keywordtype}{bool} testAssignment() \{}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} foo;}
\DoxyCodeLine{}
\DoxyCodeLine{        foo.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} = (T)1;}
\DoxyCodeLine{        foo.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} = (T)2;}
\DoxyCodeLine{        foo.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} = (T)3;}
\DoxyCodeLine{        foo.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} = (T)4;}
\DoxyCodeLine{}
\DoxyCodeLine{        assert(foo.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} == (T)1);}
\DoxyCodeLine{        assert(foo.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} == (T)2);}
\DoxyCodeLine{        assert(foo.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} == (T)3);}
\DoxyCodeLine{        assert(foo.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} == (T)4);}
\DoxyCodeLine{}
\DoxyCodeLine{        foo[0] = (T)5;}
\DoxyCodeLine{        foo[1] = (T)6;}
\DoxyCodeLine{        foo[2] = (T)7;}
\DoxyCodeLine{        foo[3] = (T)8;}
\DoxyCodeLine{}
\DoxyCodeLine{        assert(foo.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} == (T)5);}
\DoxyCodeLine{        assert(foo.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} == (T)6);}
\DoxyCodeLine{        assert(foo.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} == (T)7);}
\DoxyCodeLine{        assert(foo.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} == (T)8);}
\DoxyCodeLine{        \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{    \textcolor{keywordtype}{bool} testMemberAccess() \{}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} foo;}
\DoxyCodeLine{}
\DoxyCodeLine{        foo.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} = (T)1;}
\DoxyCodeLine{        foo.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} = (T)2;}
\DoxyCodeLine{        foo.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} = (T)3;}
\DoxyCodeLine{        foo.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} = (T)4;}
\DoxyCodeLine{}
\DoxyCodeLine{        assert(foo[0] == 1);}
\DoxyCodeLine{        assert(foo[1] == 2);}
\DoxyCodeLine{        assert(foo[2] == 3);}
\DoxyCodeLine{        assert(foo[3] == 4);}
\DoxyCodeLine{        \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{    \textcolor{keywordtype}{bool} testMisc() \{}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} foo(2, 2, 2, 2);}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} bar(2, -\/2, 2, 2);}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} baz(10, 0, 2, 2);}
\DoxyCodeLine{}
\DoxyCodeLine{        assert(foo.\mbox{\hyperlink{structvec4_aa14d2adcfa8bb4c91325c2c743c1e673}{length}}() == 4.0f);}
\DoxyCodeLine{        assert(bar.\mbox{\hyperlink{structvec4_aa14d2adcfa8bb4c91325c2c743c1e673}{length}}() == 4.0f);}
\DoxyCodeLine{        assert(baz.\mbox{\hyperlink{structvec4_aa14d2adcfa8bb4c91325c2c743c1e673}{length}}() == 10.3923044f);}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keywordflow}{if}(extended) \{}
\DoxyCodeLine{            \mbox{\hyperlink{structvec4}{vec4<T>}} normFoo = foo.\mbox{\hyperlink{structvec4_a5358b87723af817df7a3ccb9df498452}{normalize}}();}
\DoxyCodeLine{            \mbox{\hyperlink{structvec4}{vec4<T>}} normBar = bar.\mbox{\hyperlink{structvec4_a5358b87723af817df7a3ccb9df498452}{normalize}}();}
\DoxyCodeLine{            \mbox{\hyperlink{structvec4}{vec4<T>}} normBaz = baz.\mbox{\hyperlink{structvec4_a5358b87723af817df7a3ccb9df498452}{normalize}}();}
\DoxyCodeLine{}
\DoxyCodeLine{            \textcolor{comment}{// floating point precision 1e-\/7}}
\DoxyCodeLine{            assert(normFoo.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} -\/ (T)0.5f < 1e-\/7);}
\DoxyCodeLine{            assert(normFoo.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} -\/ (T)0.5f < 1e-\/7);}
\DoxyCodeLine{            assert(normFoo.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} -\/ (T)0.5f < 1e-\/7);}
\DoxyCodeLine{            assert(normFoo.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} -\/ (T)0.5f < 1e-\/7);}
\DoxyCodeLine{            assert(normBar.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} -\/ (T)0.5f < 1e-\/7);}
\DoxyCodeLine{            assert(normBar.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} -\/ (T)-\/0.5f < 1e-\/7);}
\DoxyCodeLine{            assert(normBar.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} -\/ (T)0.5f < 1e-\/7);}
\DoxyCodeLine{            assert(normBar.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} -\/ (T)0.5f < 1e-\/7);}
\DoxyCodeLine{            assert(normBaz.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} -\/ (T)0.962250471f < 1e-\/7);}
\DoxyCodeLine{            assert(normBaz.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} -\/ (T)0.0f < 1e-\/7);}
\DoxyCodeLine{            assert(normBaz.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} -\/ (T)0.192450091f < 1e-\/7);}
\DoxyCodeLine{            assert(normBaz.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} -\/ (T)0.192450091f < 1e-\/7);}
\DoxyCodeLine{        \}}
\DoxyCodeLine{        \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{    \textcolor{keywordtype}{bool} testOperators() \{}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} foo(1, 1, 1, 1);}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} bar(1, -\/1, 1, 1);}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} baz(10, 0, 0, 0);}
\DoxyCodeLine{        \textcolor{comment}{// +}}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} fooCopy = foo;}
\DoxyCodeLine{        fooCopy += bar;}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} == 2.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} == 0.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} == 2.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} == 2.0f);}
\DoxyCodeLine{        fooCopy = foo + bar;}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} == 2.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} == 0.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} == 2.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} == 2.0f);}
\DoxyCodeLine{        fooCopy = foo;}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{comment}{// -\/}}
\DoxyCodeLine{        fooCopy -\/= bar;}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} == 0.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} == 2.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} == 0.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} == 0.0f);}
\DoxyCodeLine{        fooCopy = foo -\/ bar;}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} == 0.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} == 2.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} == 0.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} == 0.0f);}
\DoxyCodeLine{        fooCopy = foo;}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{comment}{// *}}
\DoxyCodeLine{        fooCopy *= 2.0f;}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} == (T)2.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} == (T)2.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} == (T)2.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} == (T)2.0f);}
\DoxyCodeLine{        fooCopy = foo * 2.0f;}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} == (T)2.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} == (T)2.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} == (T)2.0f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} == (T)2.0f);}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keywordtype}{float} fooVal = (foo * bar).sum();}
\DoxyCodeLine{        assert(fooVal == (T)2.0f);}
\DoxyCodeLine{        fooVal = (foo * baz).sum();}
\DoxyCodeLine{        assert(fooVal == (T)11.0f);}
\DoxyCodeLine{        fooCopy = foo;}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{comment}{// /}}
\DoxyCodeLine{        fooCopy /= 2.0f;}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} == (T)0.5f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} == (T)0.5f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} == (T)0.5f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} == (T)0.5f);}
\DoxyCodeLine{        fooCopy = foo / 2.0f;}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ac71a642a8279ea6d303006e81e4abf2a}{x}} == (T)0.5f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a794403b7afd3d540f2574f891c1363f4}{y}} == (T)0.5f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_ab2a475bab952f0b52ae276170e4ccce8}{z}} == (T)0.5f);}
\DoxyCodeLine{        assert(fooCopy.\mbox{\hyperlink{structvec4_a36a56fd42283fa83e57a0a07212174de}{w}} == (T)0.5f);}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{comment}{// ostream<<}}
\DoxyCodeLine{        \textcolor{comment}{//        std::cout << "{}vec4:\(\backslash\)n"{} << foo;}}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordtype}{bool} testComparison() \{}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} a(1, 2, 3, 4);}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} b(1, 2, 3, 4);}
\DoxyCodeLine{}
\DoxyCodeLine{        assert(a == b);}
\DoxyCodeLine{        \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordtype}{bool} testCast() \{}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<T>}} a(1, 2, 3, 4);}
\DoxyCodeLine{        \mbox{\hyperlink{structvec4}{vec4<int>}} a2(1, 2, 3, 4);}
\DoxyCodeLine{        \textcolor{keyword}{auto} b = \mbox{\hyperlink{structvec4}{vec4<int>}}(a);}
\DoxyCodeLine{}
\DoxyCodeLine{        assert(a2 == b);}
\DoxyCodeLine{        \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{    \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} run() \{}
\DoxyCodeLine{        testInitialization();}
\DoxyCodeLine{        testAssignment();}
\DoxyCodeLine{        testMemberAccess();}
\DoxyCodeLine{        testMisc();}
\DoxyCodeLine{        testOperators();}
\DoxyCodeLine{        testCast();}
\DoxyCodeLine{        testComparison();}
\DoxyCodeLine{    \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int} main() \{}
\DoxyCodeLine{    Vec4TestCase<int>().run();}
\DoxyCodeLine{    \textcolor{keyword}{auto} testCase     = Vec4TestCase<float>();}
\DoxyCodeLine{    testCase.extended = \textcolor{keyword}{true};}
\DoxyCodeLine{    testCase.run();}
\DoxyCodeLine{    \textcolor{keyword}{auto} testCase2     = Vec4TestCase<double>();}
\DoxyCodeLine{    testCase2.extended = \textcolor{keyword}{true};}
\DoxyCodeLine{    testCase2.run();}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\}}

\end{DoxyCodeInclude}
 